flowchart LR
    %% Nodes
    Customer((Customer))
    Portal["Customer Portal (SPA)"]
    ProofService["ProofOfInsuranceService"]
    PolicySystem["Policy System (existing)"]
    DocGen["Document Generation Service"]
    EmailSvc["Email Service"]
    Audit["Audit Log"]

    %% Interactions
    Customer -->|Login| Portal
    Portal -->|RequestProof| ProofService
    ProofService -->|FetchPolicyDetails| PolicySystem
    ProofService -->|GenerateProofPDF| DocGen
    DocGen -->|ReturnPDF| ProofService
    ProofService -->|SendEmail| EmailSvc
    EmailSvc -->|ReturnStatus| ProofService
    ProofService -->|LogProofIssued| Audit
